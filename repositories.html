<!DOCTYPE html>
<html lang="pt">

	<head>

		<script src="https://rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true&amp;skin=Default&amp;lang=css" defer=""></script>
	    
	    <!--Import Google Icon Font-->
	    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	    
	    <!--Import materialize.css-->
	    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

	    <!--importar o meu código CSS-->
	    <link rel="stylesheet" type="text/css" href="css/style.css"/>

	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	    <!--Let browser know website is optimized for mobile-->
	    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  	</head>


	<main>		

		<!--Side Nav for Mobile-->
		<ul id="slide-out" class="side-nav hide-on-large-only">
        	<br>
        	<!--
        	<div class="input-field" style="width: 93%; padding-left: 5%">
          		<i class="material-icons prefix" style="padding-left: 4%; padding-top: 5%">search</i>
          		<input type="text" id="autocomplete-input" class="autocomplete">
          		<label for="autocomplete-input">Search here</label>
        	</div>-->
		    <li><a href="https://www.facebook.com/ricardo.petronilho98"><i class="fa fa-facebook-square" style="font-size:36px"></i>My facebook</a></li>
		    <br>
		    <li><a href="https://github.com/RicardoPetronilho98"><i class="fa fa-github" style="font-size:36px"></i>My github</a></li>
		    <br>
		    <li><a href="https://stackoverflow.com/users/8709667/ricardo-petronilho?"><i class="fa fa-stack-overflow" style="font-size:36px"></i>My stackoveflow</a></li>
		    <br>
		    <li><a href="#"><i class="fa fa-code" style="font-size:36px"></i>My repositories</a></li>
		    <br>
		    <li><div class="divider"></div></li>
		    <br>
		    <li><a href="settings.html"><i class="material-icons" style="font-size:36px">settings</i>Settings</a></li>
	  	</ul>



	  	
	  	<!--Navigation bar for Mobile-->
	  	<nav class="hide-on-large-only">
	  		
	  		<!--botão para abrir a Side Bar-->
	  		<a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>

		    <a href="index.html" class="brand-logo right-align" style="padding-left: 2%">Ricardo Petronilho</a>
		</nav>

		
		<!--Navigation bar for Desktop-->
		<nav class="hide-on-med-and-down">
		    <div class="container">
		      <div class="nav-wrapper">
		        <a href="index.html" class="brand-logo waves-effect">Ricardo Petronilho</a>
		        <ul class="right">
		          <li><a class="waves-effect" href="https://github.com/RicardoPetronilho98">My github</a></li>
		          <li><a class="waves-effect" href="https://www.facebook.com/ricardo.petronilho98">My facebook</a></li>
		          <li><a class="waves-effect" href="https://stackoverflow.com/users/8709667/ricardo-petronilho?">My stackoverflow</a></li>
		        </ul>
		      </div>
		    </div>
		</nav>		


		
		<div class="container">

			<br>

			<!--TABELAS COM INFO DOS REPOSITÓRIOS-->
			<ul id="tabs-swipe-demo" class="tabs">
				<li class="tab col s3"><a href="#test-swipe-1">README</a></li>
			    <li class="tab col s3"><a class="active" href="#test-swipe-2">FILES</a></li>
			    <li class="tab col s3"><a href="#test-swipe-3">COMMITS</a></li>
			    <li class="tab col s3"><a href="#test-swipe-4">CONTRIBUTORS</a></li>
		    </ul>
		  	<div id="test-swipe-1" class="col s12">Test 1</div>
		 	<div id="test-swipe-2" class="col s12">
 				
				<br>
				 	
			 	<center>
			 		<!--botão de download dos ficheiros em formato ZIP-->
			 		<a href="https://api.github.com/repos/RicardoPetronilho98/RicardoPetronilho98.github.io/zipball/master" class="waves-effect waves-light btn"><i class="material-icons right">file_download</i>Download ALL .ZIP</a>
			 	</center>

			 	<br>

			 	<div id="HTMLloop"></div>

	 		</div>
		 	

		 	<div id="test-swipe-3" class="col s12">Test 3</div>
		 	<div id="test-swipe-4" class="col s12">Test 4</div>


			<div id="href"></div>

		</div>

	</main>


	<!--<div class="footer">
		<div>
			<span>&copy;2017 Ricardo Petronilho</span>
		</div>	
    </div>-->


  	<!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script type="text/javascript" src="js/myScript.js"></script>
    <script type="text/javascript">


    	$('document').ready(function(){ //JQuery library functions

    		$('ul.tabs').tabs();
		    
		    //side Nav for Mobile
		    $('.button-collapse').sideNav({
			      
			      menuWidth: 300, // Default is 300
			      edge: 'left', // Choose the horizontal origin
			      closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
			      draggable: true, // Choose whether you can drag to open on touch screens,
			      onOpen: function(el) { }, // 'rounded' is the class I'm applying to the toast) { }, // A function to be called when sideNav is opened
			      onClose: function(el) { }, // A function to be called when sideNav is closed
			 });  

			// Initialize collapse button
		    $(".button-collapse").sideNav();

		

		    var xmlhttp = new XMLHttpRequest();
			    
			xmlhttp.onreadystatechange = function(){
						    
			    if (this.readyState == 4 && this.status == 200){
								            	
			        var JSONcode = JSON.parse(this.responseText);

			        var i;

			 		var HTMLcode = "";

			 		//aqui tenho de aplicar a recursividade consoante o link

			 		//cria dinamicamente a listagem de ficheiros e pastas
			 		for (i = 0; i < JSONcode.length; i++){

			 			if (JSONcode[i].type == "file") HTMLcode += "<a href=showFile.html?i=" + i + "><i class=material-icons style=font-size:30px>insert_drive_file</i>" + JSONcode[i].name + "</a><br><br>";
		
			 			else HTMLcode += "<a href=repositories.html?path=" + JSONcode[i].path + "><i class=material-icons style=font-size:30px>folder</i>" + JSONcode[i].name + "</a><br><br>";
			 		} 

					document.getElementById("HTMLloop").innerHTML = HTMLcode;


			    }
			};

			var linkCONTENT = "https://api.github.com/repos/RicardoPetronilho98/RicardoPetronilho98.github.io/contents/";

			linkCONTENT += getParameterByName("path");

			//linkCONTENT += getParameterByName("name");
				
			xmlhttp.open("GET", linkCONTENT, true);	
			xmlhttp.send();

    	});

    </script>

</html>